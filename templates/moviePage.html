<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>moviePage</title>


        	{% load static %}
	<link type="text/css" rel="stylesheet" href="{% static "css/moviePage.css" %}">
    <link type="text/css" rel="stylesheet" href="{% static "css/filmplay_new.css" %}">
    <link type="text/css" rel="stylesheet" href="{% static "css/common.css" %}">
    <link type="text/css" rel="stylesheet" href="{% static "css/movieSquare.css" %}">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <style>
        .content_wrapper{
            margin-top: 80px;
        }
ul li {
    display：inline-block;
}

            body {
    position: relative;
    overflow-x: auto;
    min-width: 1280px;
    min-height: 100%;
    font: 12px / 1.5 "PingFang SC", "Microsoft YaHei", 微软雅黑, STHeiti, sans-serif;
    padding: 0px;
    margin: 0px;
    background: rgb(247, 247, 247);;
}



    </style>
</head>
<body>












<div class="header-common fixed-header complex-header light-color header-v2  pa-normal" id="index-wrap">
	<div class="header-con">
		<a class="logo v-center" href="/?from=navigator">
			<span class="logo-wrap white-logo">
                <img src="https://qzapp.qlogo.cn/qzapp/100467464/899D76BF67491655C4F4A02D15BDFB93/100?id=1929754789" width="height:10px;width:10px">
            </span>
		</a>
    <ul class="fs_16 fw_300 nav-list clearfix v-center">
  <li class="nav-item ">
    <a href="/">首页</a>
  </li>
        <!--
  <li class="nav-item hover-elem ">
    <i class="icon-arrow-down"></i>
    <a href="/channel/index/sort-like?from=navigator">发现</a>
    <div class="common-hover-wrap issue-hover-wrap issue-hover-wrap-wide">
      <div class="hover-box">
        <ul class="list">
          <li class="nav-dropdown-item">
            <a class="nav-sublist-title fs_14 fw_600 c_b_3" href="/channel/index/sort-like?from=navigator">作品<i class="icon-arrow-right"></i></a>
            <ul class="nav-sublist">
              <li class="nav-sublist-item"><a href="/channel/index/id-1/sort-like?from=navigator">广告</a></li>
              <li class="nav-sublist-item"><a href="/channel/index/id-16/sort-like?from=navigator">宣传片</a></li>
              <li class="nav-sublist-item"><a href="/channel/index/id-31/sort-like?from=navigator">剧情短片</a></li>
              <li class="nav-sublist-item"><a href="/channel/index/id-49/sort-like?from=navigator">纪录</a></li>
              <li class="nav-sublist-item"><a href="/channel/index/id-76/sort-like?from=navigator">创意</a></li>
              <li class="nav-sublist-item"><a href="/channel/index/id-27/sort-like?from=navigator">音乐</a></li>
            </ul>
          </li>
          <li class="line"></li>
          <li class="nav-dropdown-item">
            <a class="nav-sublist-title fs_14 fw_600 c_b_3" href="/user/stars?from=navigator">创作人/机构<i class="icon-arrow-right"></i></a>
          </li>
          <li class="line"></li>
          <li class="nav-dropdown-item">
            <a class="nav-sublist-title fs_14 fw_600 c_b_3" href="/exp?from=navigator">文章<i class="icon-arrow-right"></i></a>
          </li>
          <li class="line"></li>
          <li class="nav-dropdown-item">
            <a class="nav-sublist-title fs_14 fw_600 c_b_3" target="_blank" href="https://www.vmovier.com?from=navigator">场库 - 高品质短片精选<i class="icon-arrow-right"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </li>
        -->
  <!-- <li class="nav-item hover-elem ">
    <a href="/user/stars?from=navigator">找人/机构</a>
  </li> -->
  <li class="nav-item ">
    <a href="{% url 'movieSquare' %}">广场</a>
  </li>

  <li class="nav-item ">
    <a href="{% url 'selfPage' %}">主页</a>
  </li>
  <li class="nav-item ">
    <a href="{% url 'login' %}">注销</a>
  </li>



</ul>

<ul class="fr right-part ">

  <li class="user-face hover-elem J_login_user">
    <a href="{% url 'selfPage' %}">
      <div class="user-face-con">
        <img src="https://cs.xinpianchang.com/user_center_xpc_line/user_avatar_12431481.jpg@60w_60h_1e_1c">
              </div>
    </a>
    <div class="common-hover-wrap user-hover-wrap">
      <div class="hover-box add-hover-box-height">
        <ul class="list">
                    <li><a href="/user/space/id-12431481/sort-pick">个人主页</a></li>
                              <li><a href="/user/collect/ts-article">收藏夹</a></li>
          <li class="beta"><a href="/user/articles_private">私密视频</a></li>
          <li class="line"></li>
          <li><a href="https://edu.xinpianchang.com/mycourse" target="_blank">我的课程</a></li>
          <li><a href="/account/stock">已购素材</a></li>
                    <li><a href="/account/order">我的订单</a></li>
          <li><a href="/account/package">我的套餐</a></li>
          <li><a href="/account/coupon">我的优惠券</a></li>
          <li><a href="/trade/cart">我的购物车</a></li>
          <li class="line"></li>
                      <li>
              <a href="/verification">认证</a>
            </li>
                              <li class="communitySetting"><a href="/user/setting" target="_blank">社区设置</a></li>
          <li><a href="https://passport.xinpianchang.com/settings" target="_blank">账号设置</a></li>
          <li><a href="/user/login/ts-out">退出登录</a></li>
        </ul>
      </div>
    </div>
  </li>
  <li class="upload-btn">
      <a href="/upload/index/ts-upload_index?from=topNavigation">我的</a>
      <div class="upload-list-wrap">
        <ul class="upload-list">
          <li class="icon-Upload-Video"><a href="{% url 'selfPage' %}">个人主页</a></li>
          <li class="icon-Private"><a href="{% url 'login' %}">退出登录</a></li>
        </ul>
      </div>
  </li>
  </ul>
	</div>
</div>




<div class="filmplay-container" id="movieInfo">

<div class="play-box" style="background: url(&quot;https://oss-xpc0.xpccdn.com/newupload/assets/article/cover/2021/10/617284be1ce76@960w_540h_50-30bl_1e_1c&quot;) center center / cover no-repeat; ">
		<div class="banner-linear">
			<div class="filmplay">
				<div class="film-main banner-wrap" style="width: 960px;height: 540px;margin-top:60px">
					<div id="xpcplayer" class="xpcplayer"><div class="xpcplayer-wrap xpcplayer-no-danmaku xpcplayer-controls"><div class="xpcplayer-mask"></div>
<div class="xpcplayer-video-wrap">

  <div class="xpcplayer-bezel">
    <span class="xpcplayer-bezel-icon"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M6.4,0 C8.1673112,0 9.6,1.4326888 9.6,3.2 L9.6,28.8 C9.6,30.5673112 8.1673112,32 6.4,32 C4.6326888,32 3.2,30.5673112 3.2,28.8 L3.2,3.2 C3.2,1.4326888 4.6326888,0 6.4,0 Z M25.6,0 C27.3673112,0 28.8,1.4326888 28.8,3.2 L28.8,28.8 C28.8,30.5673112 27.3673112,32 25.6,32 C23.8326888,32 22.4,30.5673112 22.4,28.8 L22.4,3.2 C22.4,1.4326888 23.8326888,0 25.6,0 Z"></path></svg></span>
    <div class="xpcplayer-loading">
      <span class="xpcplayer-loading-icon">
        <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16,32 C24.836556,32 32,24.836556 32,16 C32,7.163444 24.836556,0 16,0 C7.163444,0 0,7.163444 0,16 C0,24.836556 7.163444,32 16,32 Z M16,29.5384615 C8.52291416,29.5384615 2.46153846,23.4770858 2.46153846,16 C2.46153846,8.52291416 8.52291416,2.46153846 16,2.46153846 C23.4770858,2.46153846 29.5384615,8.52291416 29.5384615,16 C29.5384615,23.4770858 23.4770858,29.5384615 16,29.5384615 Z" fill-opacity="0.3"></path><path d="M32,16 C32,11.7977491 30.3712859,7.84879859 27.5102326,4.88626979 C27.0380342,4.39732352 26.2588725,4.38374668 25.7699262,4.85594508 C25.2809799,5.32814347 25.2674031,6.10730516 25.7396015,6.59625143 C28.1617875,9.10434728 29.5384615,12.4422059 29.5384615,16 C29.5384615,16.6797351 30.0894957,17.2307692 30.7692308,17.2307692 C31.4489658,17.2307692 32,16.6797351 32,16 Z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="1s" repeatCount="indefinite"></animateTransform></path></svg>
      </span>
      <span class="xpcplayer-loading-text dn">转码中，预计 3-5 分钟</span>
    </div>
  </div>
  <div class="xpcplayer-danmaku-ground">
    <div class="xpcplayer-danmaku-item xpcplayer-danmaku-item--demo"></div>
  </div>
  <div class="xpcplayer-preview xpcplayer-preview-invisible" style="background-image: url(&quot;https://oss-xpc0.xpccdn.com/newupload/assets/article/cover/2021/10/617284be1ce76@960w_540h&quot;);">
  </div>

    <video width="320" height="240" controls id="video" poster="../static/image/cover_new.png">
      <source v-bind:src="movieInfo.film_info.video" type="video/mp4">
      <object data="movie.mp4" width="320" height="240">
        <embed src="movie.swf" width="320" height="240">
      </object>
    </video>
</div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
</div>

<div class="filmplay-detail clearfix">
		<div class="filmplay-detail-left" style="float:center;text-align:center;margin:0 auto;">


    <div data-v-c38922e8="" class="m_coverpicbox" style="margin-left:-400px;float:left">
    <div data-v-c38922e8="" class="img_box"><a data-v-c38922e8="">
        <img v-bind:src="movieInfo.film_info.picture"></a>
        </div> <!---->
    </div> <!----> <!---->

			<div class="filmplay-info" style="background:white;float:left;margin-top:30px" >

				<div class="filmplay-info-common left-section authorize-con-parent" style="float:none;padding-bottom:60px">
					<div class="video-mark">

																							</div>
					<span class="authorize-con">不使用原创授权</span>
					<div class="title-wrap">
						<h3 class="title fs_26 fw_600 c_b_3 " style="margin-top:-5px;margin-bottom:10px">[[movieInfo.film_info.film_name]]</h3>

					</div>

					<div class="filmplay-intro fs_12 fw_300 c_b_9" >


												<span class="update-time v-center" style="margin-right: 20px;font-size:14px"><i>[[movieInfo.film_info.film_date]]</i></span>
												<span class="J_whistleblow span_whistleblow" style="font-size:14px">[[movieInfo.film_info.film_area]]</span>
					</div>

					<div style="margin-top:17px">
						<span class="desc  fs_14 c_b_3 fw_300 ">评分:[[movieInfo.film_info.film_score]]，共有[[movieInfo.film_info.film_score_people]]人评分</span>
					</div>

					<div class="filmplay-data">


						 <div class="panel-body" style="margin-top:-25px;float:none;margin-bottom:-340px;padding-bottom:0px;padding-top:5px" >
		  	  		  <input name="starNum" id="starNum" type="hidden">
                      <div class="starability-container" style="margin-left:170px">
	                       <fieldset class="starability-slot">
		                        <input type="radio" id="rate_1_0_1_5" name="starLevel" value=5 v-on:click="initScoreBind(5)" />
		                        <label for="rate_1_0_1_5" title="5星" ></label>
		                        <input type="radio" id="rate_1_0_1_4" name="starLevel" value=4 v-on:click="initScoreBind(4)"/>
		                        <label for="rate_1_0_1_4" title="4星"></label>
		                        <input type="radio" id="rate_1_0_1_3" name="starLevel" value=3 v-on:click="initScoreBind(3)"/>
		                        <label for="rate_1_0_1_3" title="3星"></label>
		                        <input type="radio" id="rate_1_0_1_2" name="starLevel" value=2 v-on:click="initScoreBind(2)"/>
		                        <label for="rate_1_0_1_2" title="2星"></label>
		                        <input type="radio" id="rate_1_0_1_1" name="starLevel" value=1 v-on:click="initScoreBind(1)"/>
		                        <label for="rate_1_0_1_1" title="1星"></label>
	                       </fieldset>
                      </div>
                      <span style="font-size: 2rem;line-height: 2.9rem;padding: 1rem;font-style: oblique;" id="starStr"></span>
							 <span v-on:click="toMovieAddingPage()" style="color:white;font-size:13px;margin-bottom:30px;padding:5px 5px 5px 5px;margin-left:-140px" class="send-comment fs_12 bg-red" v-if="this.symbol == 'manager'">新增影人</span>

                          <span v-on:click="score()" style="color:white;font-size:13px;margin-bottom:30px;padding:5px 5px 5px 5px;margin-left:-140px" class="send-comment fs_12 bg-red">提交评分</span>
							            <span style="color:white;font-size:13px;padding:5px 5px 5px 5px;margin-left:10px" class="send-comment fs_12 bg-red" v-if="this.symbol == 'user'" v-on:click="collect">收藏</span>
							 <span style="color:white;font-size:13px;padding:5px 5px 5px 5px;margin-left:10px" class="send-comment fs_12 bg-red" v-if="this.symbol == 'user'" v-on:click="cancelCollect">取消收藏</span>

		  </div>


					</div>
				</div>
								<div class="filmplay-info-desc left-section" style="float:none;margin-top:70px;padding-bottom:20px;padding-top:15px">
					<p class="desc  fs_14 c_b_3 fw_300 " style="font-size:16px;margin-bottom:0px">

						[[movieInfo.film_info.introduction]]
										</p>

				</div>
												<!-- <div class="filmplay-info-equip left-section c_b_3">
					<h3 class="title-item fs_16 fw_600">使用器材</h3>
					<p class="info fs_14 fw_300">大疆精灵第四代   佳能5D Mark IV</p>
				</div> -->
							<div class="filmplay-info-tags left-section"  style="float:none;margin-top:-20px;padding-bottom:12px;padding-top:12px">
					<h3 class="title-item fs_14 fw_600">类型</h3>
					<div class="fs_12 fw_300 c_b_3 tag-wrapper">
                        <ol>
            <li v-for="theme in themes" style="display:inline-block;font-size:15px">
                <div>
                    [[theme.theme_name]] &nbsp;
                </div>

            </li>
        </ol>
													</div>
				</div>
							</div>


    <div data-v-c38922e8="" class="m_coverpicbox" style="float:right;margin-right:-400px;">
    <div data-v-c38922e8="" class="img_box"><a data-v-c38922e8="">
        <img v-bind:src="movieInfo.film_info.picture"></a>
        </div> <!---->
    </div>

		<!-- 通栏广告 -->
		<!-- <a class="create-man-banner" href="/activity/filmfest/ts-proposition?utm_source=xpcWeb&utm_medium=tonglan" target="_blank"><img src="https://oss-xpc0.xpccdn.com/Upload/edu/2018/10/095bbc471ee8871.jpg"></a> -->
	</div>



</div>



    <div class="filmplay-detail clearfix" style="width:1200px">
		<div class="filmplay-detail-left" style="margin-top:30px; float:left; width:730px">


	<div class="common-comment" id="comment-area">

		<div class="filmplay-info-common left-section authorize-con-parent" style="padding-bottom:45px">

					<div class="title-wrap" style="margin-top:5px; margin-left:10px">
						<h3 class="title fs_26 fw_600 c_b_3 " style="margin-top:5px">[[movieInfo.film_info.film_name]]的话题区</h3>

					</div>

                    <div class="filmplay-data" style="margin-left:-50px">

						<div class="filmplay-data-btn fs_12" style="margin-right:20px">



										<span v-if="this.symbol == 'user'" class="send-comment fs_12 bg-red" style="color:white;font-size:13px;padding:9px 15px 9px 15px;margin-left:-100px" v-on:click="toTopicCreating(movieInfo.film_info.film_id)">添加话题</span>


						</div>
					</div>
				</div>

    <div id="comment-anchor"></div>




    <div class="comment-bottom">
        <ul class="comment-list">
        <li v-for="topic in topics">
			<a target="_blank">
				<span class="head-wrap" data-userid="12431481">
					<img class="user-avator" v-bind:src="topic.user_picture">
				</span>
			</a>
			<div class="comment-wrap clearfix">
				<div class="user-time">

						<span class="user-name fs_14 fw_600 c_b_3">
							<i class="text">[[topic.user_id]]</i>
						</span>

					<span class="send-time fs_12 fw_300 c_b_9">[[topic.topic_time]]</span>
				</div>

				<div class="user-name fs_14 fw_600 c_b_3" style="margin-top:7px">
                    <a v-on:click="toTopicPage(topic.topic_id)">[[topic.title]]</a>
                </div>

				<div class="comment-con fs_14 fw_300 c_b_3">
					<i class="top-icon dn">置顶</i>
					<i class="text">[[topic.topic_text]]</i>
				</div>

				<div class="comment-btn fs_12 fw_600 c_b_9" data-replyid="1348420">


					<span v-if="user_id == topic.user_id">
						<span class="del-btn hover-show" data-commentid="1348420" v-on:click="deleteTopic(topic.topic_id)">删除</span>
                	</span>

					<span v-on:click="toTopicPage(topic.topic_id)" class="relpy-btn" data-commentid="1348420">回复</span>
					<span class="like-btn J_like_comment hide-split">
						<i class="approve-text"></i>
						&nbsp;
					</span>
				</div>
			</div>
		</li>

		</ul>
        <div class="comment-empty-wrap">
          <div class="comment-empty author-or-opened fs_16 dn">还没有人发表评论，来第一个发言吧！</div>
          <div class="comment-empty author-and-closed fs_16 dn">关闭前无评论</div>
          <div class="comment-empty notauthor-and-closed fs_16 dn">还没有人评论</div>
        </div>
        <div class="more-comment fs_14 fw_600 c_b_9 no-more">没有更多了</div>
    </div>
</div>




		<!-- 通栏广告 -->
		<!-- <a class="create-man-banner" href="/activity/filmfest/ts-proposition?utm_source=xpcWeb&utm_medium=tonglan" target="_blank"><img src="https://oss-xpc0.xpccdn.com/Upload/edu/2018/10/095bbc471ee8871.jpg"></a> -->
	</div>

    <div class="filmplay-detail-right" style="width:370px;margin-top:30px">
			<!-- <a href="https://edu.xinpianchang.com/subject/163" target="_blank"><img style="width: 100%;margin-bottom: 20px;" src="https://oss-xpc0.xpccdn.com/Upload/edu/2019/11/145dccfd7750607.jpg" alt=""></a> -->
			<!-- <a href="https://edu.xinpianchang.com/subject/164?from=Pcbanner" target="_blank"><img style="width: 100%;margin-bottom: 20px;" src="https://oss-xpc0.xpccdn.com/Upload/edu/2019/12/095dedb5590d490.jpg" alt=""></a> -->

									<!--创作团队-->
<div class="user-team" style="background:#fff; margin-bottom:20px;">
	<div class="filmplay-creator right-section">
		<div style="margin-top:-10px">
			<h3 class="fs_20 fw_600" style="margin-top:10px">影职员-导演</h3>
			
		</div>

		<ul class="creator-list">
									<li v-for="director in workers.directors">
				<a class="head-wrap" data-userid="11024761">
					<img class="avator lazy-img lazy-img-show" v-bind:src="director.worker_picture">
										<span class="author-v yellow-v"></span>
									</a>
				<div class="creator-info">
					<a class="name-wrap"  v-on:click="toWorkerPage(director.worker_id)">
						<span class="name fs_14 fw_600 c_b_3 line-hide-1">[[director.worker_name]]</span>
					</a>
					<span class="roles fs_12 fw_300 c_b_9">导演</span>
				</div>
					<div  v-on:click="toWorkerPage(director.worker_id)" class="follow-btn fs_12 c_w_f bg-red " data-userid="11024761" data-username="筑梦影视-李东">
					主页</div>
							</li>
								</ul>
	</div>



</div>

<div class="user-team" style="background:#fff; margin-bottom:20px;">
	<div class="filmplay-creator right-section">
		<div style="margin-top:-10px">
			<h3 class="fs_20 fw_600" style="margin-top:10px">影职员-编剧</h3>

		</div>

		<ul class="creator-list">
									<li v-for="writer in workers.writers">
				<a class="head-wrap" data-userid="11024761">
					<img class="avator lazy-img lazy-img-show" v-bind:src="writer.worker_picture">
										<span class="author-v yellow-v"></span>
									</a>
				<div class="creator-info">
					<a class="name-wrap"  v-on:click="toWorkerPage(writer.worker_id)">
						<span class="name fs_14 fw_600 c_b_3 line-hide-1">[[writer.worker_name]]</span>
					</a>
					<span class="roles fs_12 fw_300 c_b_9">编剧</span>
				</div>
					<div  v-on:click="toWorkerPage(writer.worker_id)" class="follow-btn fs_12 c_w_f bg-red " data-userid="11024761" data-username="筑梦影视-李东">
					主页</div>
							</li>
								</ul>
	</div>

</div>

<div class="user-team" style="background:#fff; margin-bottom:20px;">
	<div class="filmplay-creator right-section">
		<div style="margin-top:-10px">
			<h3 class="fs_20 fw_600" style="margin-top:10px">影职员-演员</h3>

		</div>

		<ul class="creator-list">
									<li v-for="actor in workers.actors">
				<a class="head-wrap" data-userid="11024761">
					<img class="avator lazy-img lazy-img-show" v-bind:src="actor.worker_picture">
										<span class="author-v yellow-v"></span>
									</a>
				<div class="creator-info">
					<a class="name-wrap"  v-on:click="toWorkerPage(actor.worker_id)">
						<span class="name fs_14 fw_600 c_b_3 line-hide-1">[[actor.worker_name]]</span>
					</a>
					<span class="roles fs_12 fw_300 c_b_9">演员</span>
				</div>
					<div  v-on:click="toWorkerPage(actor.worker_id)" class="follow-btn fs_12 c_w_f bg-red " data-userid="11024761" data-username="筑梦影视-李东">
					主页</div>
							</li>
								</ul>
	</div>



</div>


						<!--			相似作品模块-->
			<div class="similar filmplay-recommend right-section">
				<div style="">
					<h3 class="fs_20 fw_600" style="margin-top:0px;margin-bottom:0px">相似作品</h3>
				</div>
				<ul class="recommend-list similar-list">

				<li class="sider-li" v-for="movie in relatedMovies" style="margin-bottom:80px;margin-left:10px">
					<span class="cover-wrap" style="width:111px;height:150px">
						<img class="cover" v-bind:src="movie.film_info.picture" v-on:click="toMoviePage(movie.film_info.film_id)">
						<span class="cover-con" style="width:111px;height:150px"></span>
					</span>

					<div class="right-con" style="margin-left:130px;margin-top:10px">
						<div class="article-contanier fenleiNumber" style="width:100%;">
							<span v-on:click="toMoviePage(movie.film_info.film_id)" class="title fs_14 fw_600 c_b_3 line-hide-2" style="font-size:17px;width:190px">[[movie.film_info.film_name]]</span>

							<div class="cate-wrap">
								<span class="fs_14 fw_300 c_b_9 line-hide-1 createFenlei">[[movie.film_info.film_date]],[[movie.film_info.film_area]]</span>
								<br/>
								<span class="fs_14 fw_300 c_b_9 line-hide-1 createFenlei">[[movie.film_info.film_score_people]]人评分,共[[movie.film_info.film_score]]分</span>

							</div></div></div></li>
					</ul>
			</div>

	</div>


    </div>





</div>



<script>



        var vm = new Vue({
            el:"#movieInfo",
            delimiters:["[[","]]"],
            data:{
                movieInfo:{},
                topics:[],
                allowed:false,
                user_id:window.sessionStorage.getItem("id"),
                topic_id:'',
                workers:{},
                themes:[],
                symbol: sessionStorage.getItem("symbol"),
                relatedMovies: []
            },
            mounted:function () {
                this.show();
                this.showTopics();
                this.showWorkers();
                this.showMovieThemes();
                this.showRelatedMovies();
            },

            methods:{
                initScoreBind(radio) {
                    document.getElementById("starNum").value = radio
                    console.log(radio)
                    console.log(document.getElementById("starNum").value)
                },
                showMovieThemes() {
                    axios.get("{% url 'showMovieThemes' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id")
                            }
                        }).then(response=>{
                            this.themes = response.data
                        }),err=>{
                            console.log(err);
                        };
                },
                showWorkers() {
                    axios.get("{% url 'showWorkersinPage' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id")
                            }
                        }).then(response=>{
                            this.workers = response.data
                        }),err=>{
                            console.log(err);
                        };
                },
                score(){
                	if(this.symbol == 'user') {
						var score = $('#starNum').val()
						console.log(score)
						axios.get("{% url 'score' %}",{
								params:{
									film_id:sessionStorage.getItem("film_id"),
									user_id:sessionStorage.getItem("id"),
									score_number: score
								}
							}).then(response=>{
								this.show()
							}),err=>{
								console.log(err);
							};
							location.reload();
                    } else {
                    	alert("管理员无法评分！");
                    }
                },
                deleteTopic(topic_id){
                        axios.get("{% url 'deleteTopic' %}",{
                            params:{
                                topic_id: topic_id
                            }
                        }).then(response=>{
                            this.topics = response.data
                            this.topic_id = ''
                        }),err=>{
                            console.log(err);
                        };
                        location.reload();
                },
                toTopicCreating(film_id) {
                    window.sessionStorage.setItem("film_id",film_id)
                    window.location.href = "{% url 'topicCreatingPage' %}"
                },
                toTopicPage(topic_id) {
                    window.sessionStorage.setItem("topic_id",topic_id)
                    window.location.href = "{% url 'topicPage' %}"
                },
                toWorkerPage(worker_id) {
                    window.sessionStorage.setItem("worker_id",worker_id)
                    window.location.href = "{% url 'workerPage' %}"
                },
                showTopics() {
                    axios.get("{% url 'showTopics' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id")
                            }
                        }).then(response=>{
                            this.topics = response.data
							for (var i = 0; i < this.topics.length; i++)
								{
								  this.topics[i].topic_time=this.topics[i].topic_time.replace(/T/g, ' ').replace(/.[\d]{3}Z/, ' ');
								}
                        }),err=>{
                            console.log(err);
                        };
                    //传入本页的film_id
                    //topics数组接收返回值即可显示
                },
                show() {
                    axios.get("{% url 'showMovie' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id")
                            }
                        }).then(response=>{
                            this.movieInfo = response.data
                        }),err=>{
                            console.log(err);
                        };
                },
                collect() {
                    axios.get("{% url 'collect' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id"),
                                id:sessionStorage.getItem("id")
                            }
                        }).then(response=>{
                            this.allowed = response.data
                            if (this.allowed === true) {
                                alert("收藏成功！")
                            } else {
                                alert("该电影您已收藏！")
                            }
                            this.allowed = false
                            }),err=>{
                                console.log(err);
                            };
                },
                cancelCollect() {
                    axios.get("{% url 'cancelCollect' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id"),
                                id:sessionStorage.getItem("id")
                            }
                        }).then(response=>{
                            this.allowed = response.data
                            if (this.allowed === true) {
                                alert("取消收藏成功！")
                            } else {
                                alert("该电影您并未收藏！")
                            }
                            this.allowed = false
                        }),err=>{
                            console.log(err);
                        };
                },
                toMovieAddingPage() {
                	var filmId = sessionStorage.getItem("film_id")
                	window.sessionStorage.setItem("film_id", filmId)
                    window.location.href = "{% url 'movieAddingPage' %}"
                },
                toMoviePage(film_id) {
                    window.sessionStorage.setItem("film_id",film_id)
                    window.location.href = "{% url 'moviePage' %}"
                },
                showRelatedMovies() {
                    axios.get("{% url 'showRelatedMovies' %}",{
                            params:{
                                film_id:sessionStorage.getItem("film_id")
                            }
                        }).then(response=>{
                            this.relatedMovies = response.data;
                        }),err=>{
                            console.log(err);
                        };
                    //传入本页的film_id
                    //topics数组接收返回值即可显示
                }
            }
        })

</script>
<!--后面可以把那边热榜/收藏夹加过来，到时候copy就行-->
</body>
</html>